<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Iniciar Sesión | EAN</title>
  <link href="/tailwind.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <script>
    // Redirigir a catalog.html si ya hay sesión
    if (localStorage.getItem('token') && localStorage.getItem('user')) {
      window.location.href = '/catalog.html';
    }
  </script>
</head>
<body class="bg-green-50 min-h-screen flex items-center justify-center">
  <div class="w-full max-w-md bg-white rounded-lg shadow-lg p-8">
    <div class="flex flex-col items-center mb-6">
      <img src="/ean-logo.png" alt="EAN Logo" class="h-16 mb-2">
      <h1 class="text-2xl font-bold text-green-700 mb-1">Equilibrio y Aprendizaje Natural</h1>
      <span class="text-green-900 font-semibold">EAN</span>
    </div>
    <div id="formContainer">
      <!-- Formulario de Login -->
      <form id="loginForm" class="space-y-4">
        <h2 class="text-xl font-semibold text-center">Iniciar Sesión</h2>
        <div>
          <label class="block text-sm font-medium text-gray-700">Correo electrónico</label>
          <input type="email" id="loginEmail" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500">
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">Contraseña</label>
          <input type="password" id="loginPassword" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500">
        </div>
        <button type="submit" class="w-full text-emerald-700 font-semibold hover:underline">Ingresar</button>
        <p class="text-center text-sm mt-2">¿No tienes cuenta? <a href="#" id="showRegister" class="text-green-700 hover:underline">Regístrate aquí</a></p>
      </form>
      <!-- Formulario de Registro -->
      <form id="registerForm" class="space-y-4 hidden">
        <h2 class="text-xl font-semibold text-center">Registrarse</h2>
        <div>
          <label class="block text-sm font-medium text-gray-700">Nombre completo</label>
          <input type="text" id="registerName" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500">
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">Correo electrónico</label>
          <input type="email" id="registerEmail" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500">
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700">Contraseña</label>
          <input type="password" id="registerPassword" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500">
        </div>
        <button type="submit" class="w-full text-emerald-700 font-semibold hover:underline">Registrarse</button>
        <p class="text-center text-sm mt-2">¿Ya tienes cuenta? <a href="#" id="showLogin" class="text-green-700 hover:underline">Inicia sesión</a></p>
      </form>
    </div>
    <div id="errorMsg" class="text-red-600 text-center mt-4 hidden"></div>
  </div>
  <script src="/login.js" defer></script>
</body>
</html> 